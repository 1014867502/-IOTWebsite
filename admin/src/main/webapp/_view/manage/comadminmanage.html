<!DOCTYPE html>
<html lang="en">
<head>
    #@meta("普通管理员的用户管理页面")
    <script src="/assets/lib/xm-select.js"></script>
    <link rel="stylesheet" type="text/css" href="/assets/css/global.css">
</head>
<body class="layui-layout-body">
<style>
    xm-select > .xm-body .xm-toolbar .toolbar-tag {
        color: #00F7DE;
    }

    .untreated {
        background-color: #FF5722;
    }

    .treated {
        background-color: #01AAED;
    }

    .normalnotice {
        text-align: center;
        font-size: 20px;
        display: inline-block;
        float: right;
        height: 50px;
        width: 200px;
        background-color: #C9E7FB;
        color: #0C0C0C;
        border-color: #87CDFB;
        border-style: solid;
        border-width: 2px;
    }

    .layui-card-header.layuiadmin-card-header-auto {
        padding-top: 15px;
        padding-bottom: 15px;
        height: 42px;
    }

    .layui-form-checked[lay-skin=primary] i {
        border-color: #1E9FFF !important;
        background-color: #1E9FFF !important;
        color: #fff !important;
        font-weight: bold;
    }

    .layui-form-radio > i:hover, .layui-form-radioed > i {
        color: #597FC0 !important;
    }

    .layui-form-checkbox[lay-skin=primary]:hover i {
        color: #597FC0 !important;
        border-color: #1E9FFF !important;
        color: #fff;
    }

    .layui-form-select dl dd.layui-this {
        background-color: #1E9FFF !important;
        color: #fff;
    }

    .layui-laydate .layui-this {
        background-color: #1E9FFF !important;
        color: #fff !important;
    }

    .layui-laydate-content td.laydate-selected {
        background-color: #31e6ff;
    !important;
    }

    .layui-form-onswitch {
        border-color: #1e9fff;
        background-color: #1e9fff;
    }
    .little{
        text-align: center;
        width: 200px;
        margin-left: 10%;
        line-height:40px;
    }
    .layui-laypage .layui-laypage-curr .layui-laypage-em {
        position: absolute;
        left: -1px;
        top: -1px;
        padding: 1px;
        width: 100%;
        height: 100%;
        background-color: #1e9fff;
    }
    .layui-card-header .layui-icon {
        line-height: unset;
        position: initial;
        right: 15px;
        top: 50%;
        margin-top: -7px;
    }
</style>

<!--添加用户-->
<div class="site-text" style="margin: 5%; display: none" id="window" target="test123">
    <form class="layui-form" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">账号名</label>
            <div class="layui-input-block">
                <input style="width: 100%" type="text" name="uAccountNum"  lay-verify="confirmaccount|required" placeholder="请输入标题" autocomplete="off" class="layui-input ">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">昵称</label>
            <div class="layui-input-block">
                <input style="width: 100%" type="text" name="uRealName" required  lay-verify="required" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">修改密码</label>
            <div class="layui-input-block">
                <input style="width: 100%" type="password" name="uPassword" required  lay-verify="required" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" style="width: 84px;padding: 9px 13px;">再次输入密码</label>
            <div class="layui-input-block">
                <input style="width: 100%" type="password" name="againPassword" required  lay-verify="required|confirmpass" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">所属部门</label>
            <div class="layui-input-block">
                <input style="width: 100%" type="text" name="cDept" required  lay-verify="required" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">用户类型</label>
            <div class="layui-input-block">
                <div style="width: 100%">
                    <select name="type" lay-filter="type" style="width: 100%">
                        <option value="0" selected>普通用户</option>
                        <option value="1">供销商管理员</option>
                        <option value="3">安装测试人员</option>
                        <option value="4">普通管理员</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="addmanagecompanylist">

        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" style="width: 84px;padding: 9px 13px;">所属公司</label>
            <div class="layui-input-block">
                <div id="companylist" class="xm-select-project" style="width: 100%"></div>
            </div>
        </div>

        <div id="formproject">
            <div class="layui-form-item">
                <label class="layui-form-label" style="width: 84px;padding: 9px 13px;">可查看的项目</label>
                <div class="layui-input-block">
                    <div id="projectlist" class="xm-select-project" style="width: 100%"></div>
                </div>
            </div>
        </div>
        <div id="showwebright">
            <div class="layui-form-item" >
                <label class="layui-form-label" style="width: 84px;">网页功能权限</label>
                <div class="layui-input-block">
                    <div id="initwebauthority" class="xm-select-demo" style="width: 100%"></div>
                </div>
            </div>
        </div>
        <div id="showappright">
            <div class="layui-form-item" >
                <label class="layui-form-label">app功能权限</label>
                <div class="layui-input-block">
                    <div id="initappauthority" class="xm-select-demo" style="width: 100%"></div>
                </div>
            </div>
        </div>
        <div id="datekeep" class="layui-form-item">
            <label class="layui-form-label">账号时限</label>
            <div class="layui-input-block">
                <div style="width: 100%">
                    <input type="text" class="layui-input" lay-verify="required" name="accounttime" id="datasave" placeholder="请输入账号到期时间">
                </div>
                <span id="datetip"></span>
            </div>

        </div>
        <div id="showeditright" class="layui-form-item">
            <label class="layui-form-label" style="padding: 10px 10px;width: 113px;">修改设备功能权限</label>
            <div class="layui-input-block">
                <input id="writeright" type="checkbox" name="writePermission" lay-skin="switch" lay-filter="editdevice">
            </div>
        </div>
        <div class="layui-form-item" >
            <div class="layui-input-block formsumbitlocate">
                <button id="sumbit" type="button" class="layui-btn sumbitbtn" lay-submit lay-filter="formDemo1">提交</button>
                <!--                <button id="reset" type="reset" class="layui-btn">重置</button>-->
            </div>
        </div>
    </form>
</div>

<!--编辑用户-->
<div class="site-text" style="margin: 5%; display: none" id="editwindow" target="test1234">
    <form class="layui-form" action="">
        <div class="layui-form-item">
            <label class="layui-form-label">账号名</label>
            <div class="layui-input-block">
                <input id="uaccountnum" style="width: 100%" type="text" name="uAccountNum" disabled lay-verify="editaccount|required" placeholder="请输入账号" autocomplete="off" class="layui-input layui-disabled">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">昵称</label>
            <div class="layui-input-block">
                <input id="urealname" style="width: 100%" type="text" name="uRealName" required  lay-verify="required" placeholder="请输入昵称" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">修改密码</label>
            <div class="layui-input-block">
                <input id="upassword" style="width: 100%" type="password" name="editPassword"  placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" style="width: 84px;padding: 9px 13px;">再次输入密码</label>
            <div class="layui-input-block">
                <input id="againpassword" style="width: 100%" type="password" name="againPassword"  lay-verify="confirmeditpass" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">所属部门</label>
            <div class="layui-input-block">
                <input id="cDpet" style="width: 100%" type="text" name="cDept" required  lay-verify="required" placeholder="请输入标题" autocomplete="off" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">用户类型</label>
            <div class="layui-input-block">
                <div style="width: 100%">
                    <select id="roletype" name="type2" lay-filter="type2" style="width: 100%">
                        <option value="0">普通用户</option>
                        <option value="1">供销商管理员</option>
                        <option value="3">安装测试人员</option>
                        <option value="4">普通管理员</option>
                        <option></option>
                    </select>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label" style="width: 84px;padding: 9px 13px;">所属公司</label>
            <div class="layui-input-block">
                <div id="companylistedit" class="xm-select-project" style="width: 100%"></div>
            </div>
        </div>
        <div id="formcompanyedit">

        </div>
        <div id="formprojectedit">

        </div>
        <div class="layui-form-item" id="editwebright">
            <label class="layui-form-label" style="width: 84px;">网页功能权限</label>
            <div class="layui-input-block">
                <div id="webauthority" class="xm-select-demo" style="width: 100%"></div>
            </div>
        </div>
        <div class="layui-form-item" id="editappright">
            <label class="layui-form-label">app功能权限</label>
            <div class="layui-input-block">
                <div id="appauthority" class="xm-select-demo" style="width: 100%"></div>
            </div>
        </div>
        <div id="datechange" class="layui-form-item">
            <label class="layui-form-label">账号时限</label>
            <div class="layui-input-block">
                <div style="width: 100%">
                    <input type="text" class="layui-input" lay-verify="required"  name="accounttime" id="dataedit" placeholder="请输入账号到期时间">
                </div>
                <span id="edittip"></span>
            </div>
        </div>
        <div class="layui-form-item" id="displaywriteright">
            <label class="layui-form-label" style="padding: 10px 10px;width: 113px;">修改设备功能权限</label>
            <div class="layui-input-block">
                <input id="editwriteright" type="checkbox" name="writePermission" lay-skin="switch" lay-filter="editdevice">
            </div>
        </div>

        <div class="layui-form-item" >
            <div class="layui-input-block formsumbitlocate">
                <button  type="button" class="layui-btn sumbitbtn" lay-submit lay-filter="formDemo2">提交修改</button>
                <!--                <button  type="reset" class="layui-btn ">重置</button>-->
            </div>
        </div>
    </form>
</div>

<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">用户列表</div>
                <div class="layui-form layui-card-header layuiadmin-card-header-auto" style="display: flex">
                    <div class="layui-form-item" style="margin: auto;display: flex">
                        <!--                        <div class="layui-input-inline">-->
                        <!--                下拉框            <div id="projectlist" class="xm-select-project"></div>-->
                        <!--                        </div>-->
                        <div class="layui-inline" style="width: 250px;">
                            <div id="company" class="xm-select-demo" ></div>
                        </div>
                        <div class="layui-inline">
                            <div style="display: flex">
                                <input type="text" class="layui-input"  name="account" id="account" placeholder=" 请输入账号 " >
                                <button type="button" class="layui-btn searchbtn" lay-submit data-type="reload"
                                        id="datasumbit" lay-filter="LAY-app-contlist-search">
                                    <i class="layui-icon layui-icon-search layuiadmin-button-btn">查询</i>
                                </button>
                            </div>
                        </div>
                        <div class="layui-inline">
                            <div style="margin: auto">
                                <button type="button" class="layui-btn functionbtn" id="add_device">
                                    <i class="layui-icon  layui-icon-addition" style="font-size: 30px;"></i>添加用户
                                </button>
                            </div>
                        </div>
                        <div class="layui-inline" >
                            <button type="button" class="layui-btn functionbtn" id="delete_user">
                                <i class="layui-icon layui-icon-delete" style="font-size: 30px;"></i>删除用户
                            </button>
                        </div>
                        <div class="layui-inline" >
                            <button type="button" class="layui-btn functionbtn" id="repassword_user">
                                <i class="layui-icon layui-icon-password" style="font-size: 26px;"></i>重置密码
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!--            <div class="layui-card" style="display: flex ;smargin: auto;">-->
            <!--                <ul style="display: flex ;margin: auto;">-->
            <!--                    <li class="little">-->
            <!--                        <div>用户总数量</div>-->
            <!--                        <div id="customers" style="font-size: 20px"></div>-->
            <!--                    </li>-->
            <!--                    <li class="little">-->
            <!--                        <div>普通用户数量</div>-->
            <!--                        <div id="Ordinaryusers" style="font-size: 20px"></div>-->
            <!--                    </li>-->
            <!--                    <li class="little">-->
            <!--                        <div>供销商管理员数量</div>-->
            <!--                        <div id="comadmins" style="font-size: 20px"></div>-->
            <!--                    </li>-->
            <!--                </ul>-->

            <!--            </div>-->
            <div class="layui-card">

            </div>
            <div class="layui-card">
                <div class="layui-card-body">
                    <table class="layui-hide" id="table-form" lay-filter="table-form"></table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script src="/assets/lib/jquery-3.4.1.min.js"></script>
<script src="/assets/lib/jquery.i18n.properties-min.js"></script>
<script src="/assets/lib/loadlanguage.js"></script>
<script src="/assets/layuiadmin/layui/layui.js"></script>
<script src="/assets/layuiadmin/layui/lay/modules/laytpl.js"></script>
<script type="text/html" id="barDemo">
    <a class="layui-btn tableeventbtn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn tableeventbtn layui-btn-xs" lay-event="del">删除</a>
    <a class="layui-btn tableeventbtn layui-btn-xs" lay-event="repass">重置密码</a>
</script>

<script>

    //var projectid = window.location.hash.substr(1);
    var userid = "#(userid)";
    var projectid = "#(projetid)";
    layui.config({
        base: '/assets/layuiadmin/'
    }).extend({
        index: 'lib/index' //主入口模块
    }).use(['index', 'table', 'comadminmanage','drawer']);
</script>
</body>
</html>