<!DOCTYPE html>
<html>
<head>
    #@meta("后台主页")
    <script src="/assets/lib/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="/assets/lib/leaflet/leaflet.css">
    <link rel="stylesheet" href="/assets/lib/leaflet/group/leaflet.groupedlayercontrol.css"/>
    <script src="/assets/lib/leaflet/leaflet.js"></script>
    <script src="/assets/lib/leaflet/group/leaflet.groupedlayercontrol.js"></script>
    <script src="/assets/lib/leaflet/leaflet.ChineseTmsProviders.js"></script>
    <script src="/assets/lib/leaflet/leaflet-tilelayer-colorizr.js"></script>
    <script src="/assets/lib/xm-select.js"></script>
    <style>
        .layadmin-shortcut li .layui-icon {
            color: #FFFFFF;
            background-color: #1E9FFF;
        }

        .layadmin-shortcut li:hover .layui-icon {
            background-color: #93D1FF;
        }

        .card-body-scrollbar {
            width: 100%;
            height: 100%;
            overflow: hidden; /*  新加的 */
            background-color: transparent !important;
        }

        .card-body-scrollbar:hover {
            overflow: auto; /*  新加的 */
        }

        .card-body-scrollbar.flex-layout {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-content: center;
        }

        .right-one-row {
            height: 100%;
            width: 100%;
            justify-content: left;
            display: flex;
            align-items: stretch;
            flex-wrap: wrap;
        }

        .right-one-row .right-one-item {
            /*height: 50%;*/
            width: 25%;
            justify-content: center;
            display: flex;
            align-items: center;
        }

        .right-one-item .message {
            height: 100%;
            width: 100%;
            flex-direction: column;
            justify-content: center;
            display: flex;
            align-items: center;
        }

        .title {
            height: 50%;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #00F7DE;
        }

        .data {
            height: 50%;
            width: 100%;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            color: #bd1a1a;
        }

        .divce-offsetxyz {
            height: 13px;
        }

        .g_bar {
            display: inline-block;
            position: relative;
            height: 10px;
            border: 1 px solid  #ccc;
            border-left: 0;
        }

        .g_bar.xcor {
            background: #ea4f4f
        }

        #map {
            height: 100%;
            width: 100%;
        }

        .devicemarker {
            display: flex;
            display: -webkit-flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            color: #bd1a1a;
        }

        .devicemarker span {
            display: inline-block;
            height: 32px;
            width: 100%;
            background: url('/assets/images/CORS_Active32.png') no-repeat center center;
            margin-top: 3px;
            margin-bottom: -20px;

        }

        body {
            min-width: 1000px;
        }

        .little {
            text-align: center;
            width: 200px;
            /*margin-left: 10%;*/
            line-height: 40px;
            margin: auto;
            transition: bottom .2s linear 0s;
            bottom: 0px;
        }

        .little:hover {
            position: relative;
            color: #00f0ff;
            bottom: 2px;
        }
        .little:hover .icon{
            color: #00f0ff;
        }
        .icon {
            display: inline-block;
            width: 32px; height: 32px;
            overflow: hidden;
        }
        .icon > .icon{
            position: relative;
            left: -32px;
            border-right: 32px solid transparent;
            -webkit-filter: drop-shadow(32px 0);
            filter: drop-shadow(32px 0);
        }
        .iconchange{
            position: relative;
            left: -32px;
            border-right: 32px solid transparent;
            -webkit-filter: drop-shadow(32px 0);
            filter: drop-shadow(32px 0);
        }
    </style>
</head>
<style>

</style>
<body>
<div class="layui-fluid">
    <div style="text-align: center;display: flex;justify-content: center;align-items: center;">
        <div style="width:100%">
            <div class="layui-card" style="display: flex">
                <ul style="display: flex ;margin: auto;height: 100px" id="menu">
                    <li class="little" id="fastsetting"  >
                        <div style="display: flex;justify-content: center;" id="fastsetting2"><i  class="icon" ><i id="fastsetting1"  class="icon" style="background: url(/assets/images/icon-zhinan.png) no-repeat center;"></i></i></div>
                        <div>快速设置</div>
                    </li>
                    <li class="little" id="deviceinfo">
                        <div style="display: flex;justify-content: center;"><i class="icon"><i id="deviceinfo1" class="icon" style="background: url(/assets/images/deviceinform_black.png) no-repeat center;"></i></i></div>
                        <div>设备信息</div>
                    </li>
                    <li class="little" id="devicesetting">
                        <div style="display: flex;justify-content: center;"><i class="icon"><i id="devicesetting1" class="icon" style="background: url(/assets/images/testsetting_black.png) no-repeat center;"></i></i></div>
                        <div>测站设置</div>
                    </li>
<!--                    <li class="little" id="internetset">-->
<!--                        <div style="display: flex;justify-content: center;"><i class="icon"><i id="internetset1" class="icon" style="background: url(/assets/images/netsetting_black.png) no-repeat center;"></i></i></div>-->
<!--                        <div>网络设置</div>-->
<!--                    </li>-->
                    <li class="little" id="download">
                        <div style="display: flex;justify-content: center;"><i class="icon"><i id="download1" class="icon" style="background: url(/assets/images/datadownload_black.png) no-repeat center;"></i></i></div>
                        <div>数据下载</div>
                    </li>
                    <li class="little" id="other">
                        <div style="display: flex;justify-content: center;"><i class="icon"><i id="other1" class="icon" style="background: url(/assets/images/othersetting_black.png) no-repeat center;"></i></i></div>
                        <div>其他设置</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div style="width: 1500px;margin: auto;padding-top: 30px;">
        <iframe id="iframe_a" src="/devicelist/fastsetting" frameborder="0" machinesn="#(machinedata)" name="iframe_a" onload="this.height=iframe_a.document.body.scrollHeight"
                width="100%" scrolling="no" frameborder="0" style="height: 1200px"></iframe>
    </div>
</div>
</div>

<script src="/assets/lib/jquery-3.4.1.min.js"></script>
<script src="/assets/lib/jquery.i18n.properties-min.js"></script>
<script src="/assets/lib/loadlanguage.js"></script>
<script src="/assets/layuiadmin/layui/layui.js"></script>
<script>
    var machinedata = "#(machinedata)";
    layui.config({
        base: '/assets/layuiadmin/'
    }).extend({
        index: 'lib/index' //主入口模块
    }).use(['index','devicesetting']);

    function  iframechange() {
        var iframes = document.getElementsByTagName('iframe_a');
        debugger
        for (let i = 0, j = iframes.length; i < j; ++i) {
            // 放在闭包中，防止iframe触发load事件的时候下标不匹配
            (function(_i) {
                iframes[_i].onload = function() {
                    // 提前还原高度
                    this.setAttribute('height', 'auto'); // 或设为''
                    // 再在下一轮事件循环中设置新高度
                    setTimeout(function() {
                        iframes[_i].setAttribute('height', iframes[_i].contentWindow.document.body.scrollHeight);
                    }, 0);
                }
            })(i);
        }
        for (let i= 0, j = iframes.length; i < j; ++i) {
            // 放在闭包中，防止iframe触发load事件的时候下标不匹配
            (function(_i) {
                iframes[_i].onload = function() {
                    this.contentWindow.onbeforeunload = function() {
                        iframes[_i].setAttribute('height', 'auto');
                    };

                    this.setAttribute('height', this.contentWindow.document.body.scrollHeight);
                };
            })(i);
        }
    }
</script>
</body>
</html>